{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/Chat.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect, useState } from \"react\";\n\nconst chatBoxStyle: React.CSSProperties = {\n  position: \"fixed\",\n  bottom: 24,\n  right: 24,\n  width: 320,\n  height: 320,\n  background: \"#fff\",\n  border: \"1px solid #ccc\",\n  borderRadius: 8,\n  boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n  padding: 16,\n  zIndex: 1000,\n  display: \"flex\",\n  flexDirection: \"column\",\n  color: \"#000\",\n};\n\nexport default function Chat() {\n  const [messages, setMessages] = useState<string[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement | null>(null);\n\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    setMessages((prev) => [...prev, `You: ${input}`]);\n    setLoading(true);\n\n    try {\n      const res = await fetch(process.env.NEXT_PUBLIC_CHAT_SERVICE_URL || \"\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-chat-service-api-key\": process.env.NEXT_PUBLIC_CHAT_SERVICE_CLIENT_ID || \"\",\n        },\n        body: JSON.stringify({\n          messages: [{ role: \"user\", content: input }],\n        }),\n      });\n\n      const data = await res.json();\n      if (data.message) {\n        setMessages((prev) => [...prev, `BagelBot: ${data.message}`]);\n      } else if (data.error) {\n        setMessages((prev) => [...prev, `Error: ${data.error}`]);\n      }\n    } catch (err: unknown) {\n      console.error(\"Chat =>\", err);\n      setMessages((prev) => [...prev, \"Error: Could not reach chat service.\"]);\n    } finally {\n      setLoading(false);\n      setInput(\"\");\n    }\n  };\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, loading]);\n\n  return (\n    <div style={chatBoxStyle}>\n      <strong>Come chat with us!</strong>\n      <div\n        style={{\n          flex: 1,\n          overflowY: \"auto\",\n          margin: \"12px 0\",\n          background: \"#f9f9f9\",\n          padding: 8,\n          borderRadius: 4,\n        }}\n      >\n        {messages.map((msg, idx) => (\n          <div key={idx} style={{ marginBottom: 4 }}>\n            {msg}\n          </div>\n        ))}\n        {loading && <div style={{ color: \"#888\" }}>Baking our reply...</div>}\n        <div ref={messagesEndRef} />\n      </div>\n      <div style={{ display: \"flex\", gap: 8 }}>\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          style={{ flex: 1, borderRadius: 4, border: \"1px solid #ccc\", padding: 4 }}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") sendMessage();\n          }}\n          placeholder=\"Bake a message...\"\n          disabled={loading}\n        />\n        <button onClick={sendMessage} disabled={loading || !input.trim()} style={{ borderRadius: 4, padding: \"4px 12px\" }}>\n          Send\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIA,MAAM,eAAoC;IACxC,UAAU;IACV,QAAQ;IACR,OAAO;IACP,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,QAAQ;IACR,cAAc;IACd,WAAW;IACX,SAAS;IACT,QAAQ;IACR,SAAS;IACT,eAAe;IACf,OAAO;AACT;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACrD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAyB;IAErD,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,YAAY,CAAC,OAAS;mBAAI;gBAAM,CAAC,KAAK,EAAE,OAAO;aAAC;QAChD,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,sEAA4C,IAAI;gBACtE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,0BAA0B,8CAAkD;gBAC9E;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;wBAAC;4BAAE,MAAM;4BAAQ,SAAS;wBAAM;qBAAE;gBAC9C;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,KAAK,OAAO,EAAE;gBAChB,YAAY,CAAC,OAAS;2BAAI;wBAAM,CAAC,UAAU,EAAE,KAAK,OAAO,EAAE;qBAAC;YAC9D,OAAO,IAAI,KAAK,KAAK,EAAE;gBACrB,YAAY,CAAC,OAAS;2BAAI;wBAAM,CAAC,OAAO,EAAE,KAAK,KAAK,EAAE;qBAAC;YACzD;QACF,EAAE,OAAO,KAAc;YACrB,QAAQ,KAAK,CAAC,WAAW;YACzB,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAuC;QACzE,SAAU;YACR,WAAW;YACX,SAAS;QACX;IACF;IAEA,wCAAwC;IACxC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG;QAAC;QAAU;KAAQ;IAEtB,qBACE,8OAAC;QAAI,OAAO;;0BACV,8OAAC;0BAAO;;;;;;0BACR,8OAAC;gBACC,OAAO;oBACL,MAAM;oBACN,WAAW;oBACX,QAAQ;oBACR,YAAY;oBACZ,SAAS;oBACT,cAAc;gBAChB;;oBAEC,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,8OAAC;4BAAc,OAAO;gCAAE,cAAc;4BAAE;sCACrC;2BADO;;;;;oBAIX,yBAAW,8OAAC;wBAAI,OAAO;4BAAE,OAAO;wBAAO;kCAAG;;;;;;kCAC3C,8OAAC;wBAAI,KAAK;;;;;;;;;;;;0BAEZ,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAE;;kCACpC,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,OAAO;4BAAE,MAAM;4BAAG,cAAc;4BAAG,QAAQ;4BAAkB,SAAS;wBAAE;wBACxE,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,SAAS;wBACzB;wBACA,aAAY;wBACZ,UAAU;;;;;;kCAEZ,8OAAC;wBAAO,SAAS;wBAAa,UAAU,WAAW,CAAC,MAAM,IAAI;wBAAI,OAAO;4BAAE,cAAc;4BAAG,SAAS;wBAAW;kCAAG;;;;;;;;;;;;;;;;;;AAM3H","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}